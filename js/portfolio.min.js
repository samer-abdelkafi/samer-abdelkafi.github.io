!function(n){n(document).ready(function(){n.fn.reverse=[].reverse,n(document).on("mouseenter.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle)",function(e){var t=n(this);i(t)}),n(document).on("mouseleave.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle)",function(e){var t=n(this);a(t)}),n(document).on("click.fixedActionBtn",".fixed-action-btn.click-to-toggle > a",function(e){var t=n(this).parent();t.hasClass("active")?a(t):i(t)})}),n.fn.extend({openFAB:function(){i(n(this))},closeFAB:function(){a(n(this))}});var i=function(e){if($this=e,!1===$this.hasClass("active")){$this.addClass("active"),$this.find("ul .btn-floating").velocity({scaleY:".4",scaleX:".4",translateY:"40px",translateX:void 0+"px"},{duration:0});var t=0;$this.find("ul .btn-floating").reverse().each(function(){n(this).velocity({opacity:"1",scaleX:"1",scaleY:"1",translateY:"0",translateX:"0"},{duration:80,delay:t}),t+=40})}},a=function(e){$this=e,$this.removeClass("active");$this.find("ul .btn-floating").velocity("stop",!0),$this.find("ul .btn-floating").velocity({opacity:"0",scaleX:".4",scaleY:".4",translateY:"40px",translateX:void 0+"px"},{duration:80})}}(jQuery);var eventsMinDistance=60;function initTimeline(e){e.each(function(){var t=$(this),n={};n.timelineWrapper=t.find(".events-wrapper"),n.eventsWrapper=n.timelineWrapper.children(".events"),n.fillingLine=n.eventsWrapper.children(".filling-line"),n.timelineEvents=n.eventsWrapper.find("a"),n.timelineDates=parseDate(n.timelineEvents),n.eventsMinLapse=minLapse(n.timelineDates),n.timelineNavigation=t.find(".cd-timeline-navigation"),n.eventsContent=t.children(".events-content"),n.maxHeight=getMaxHeight(),setDatePosition(n,eventsMinDistance);var i=setTimelineWidth(n,eventsMinDistance);t.addClass("loaded"),n.timelineNavigation.on("click",".next",function(e){e.preventDefault(),updateSlide(n,i,"next")}),n.timelineNavigation.on("click",".prev",function(e){e.preventDefault(),updateSlide(n,i,"prev")}),n.eventsWrapper.on("click","a",function(e){e.preventDefault(),n.timelineEvents.removeClass("selected"),$(this).addClass("selected"),updateOlderEvents($(this)),updateFilling($(this),n.fillingLine,i),updateVisibleContent($(this),n.eventsContent,n.maxHeight)}),n.eventsContent.on("swipeleft",function(){"mobile"==checkMQ()&&showNewContent(n,i,"next")}),n.eventsContent.on("swiperight",function(){"mobile"==checkMQ()&&showNewContent(n,i,"prev")}),$(document).keyup(function(e){"37"==e.which&&elementInViewport(t.get(0))?showNewContent(n,i,"prev"):"39"==e.which&&elementInViewport(t.get(0))&&showNewContent(n,i,"next")})})}function updateSlide(e,t,n){var i=getTranslateValue(e.eventsWrapper),a=Number(e.timelineWrapper.css("width").replace("px",""));"next"==n?translateTimeline(e,i-a+eventsMinDistance,a-t):translateTimeline(e,i+a-eventsMinDistance)}function showNewContent(e,t,n){var i=e.eventsContent.find(".selected");if(0<("next"==n?i.next():i.prev()).length){var a=e.eventsWrapper.find(".selected"),o="next"==n?a.parent("li").next("li").children("a"):a.parent("li").prev("li").children("a");updateFilling(o,e.fillingLine,t),updateVisibleContent(o,e.eventsContent,e.maxHeight),o.addClass("selected"),a.removeClass("selected"),updateOlderEvents(o),updateTimelinePosition(n,o,e)}}function updateTimelinePosition(e,t,n){var i=window.getComputedStyle(t.get(0),null),a=Number(i.getPropertyValue("left").replace("px","")),o=Number(n.timelineWrapper.css("width").replace("px","")),r=Number(n.eventsWrapper.css("width").replace("px","")),s=getTranslateValue(n.eventsWrapper);("next"==e&&o-s<a||"prev"==e&&a<-s)&&translateTimeline(n,o/2-a,o-r)}function translateTimeline(e,t,n){t=0<t?0:t,setTransformValue(e.eventsWrapper.get(0),"translateX",(t=void 0!==n&&t<n?n:t)+"px"),0==t?e.timelineNavigation.find(".prev").addClass("inactive"):e.timelineNavigation.find(".prev").removeClass("inactive"),t==n?e.timelineNavigation.find(".next").addClass("inactive"):e.timelineNavigation.find(".next").removeClass("inactive")}function updateFilling(e,t,n){var i=window.getComputedStyle(e.get(0),null),a=i.getPropertyValue("left"),o=i.getPropertyValue("width"),r=(a=Number(a.replace("px",""))+Number(o.replace("px",""))/2)/n;setTransformValue(t.get(0),"scaleX",r)}function setDatePosition(e,t){for(i=0;i<e.timelineDates.length;i++){var n=daydiff(e.timelineDates[0],e.timelineDates[i]),a=Math.round(n/e.eventsMinLapse)+2;e.timelineEvents.eq(i).css("left",a*t+"px")}}function setTimelineWidth(e,t){var n=daydiff(e.timelineDates[0],e.timelineDates[e.timelineDates.length-1])/e.eventsMinLapse,i=(n=Math.round(n)+4)*t;return e.eventsWrapper.css("width",i+"px"),updateFilling(e.eventsWrapper.find("a.selected"),e.fillingLine,i),updateTimelinePosition("next",e.eventsWrapper.find("a.selected"),e),i}function getMaxHeight(){var t=-1;return $(".events-content>ol>li").each(function(){var e=$(this).height();t=t<e?e:t}),t}function updateVisibleContent(e,t,n){var i=e.data("date"),a=t.find(".selected"),o=t.find('[data-date="'+i+'"]');o.height();if(o.index()>a.index())var r="selected enter-right",s="leave-left";else r="selected enter-left",s="leave-right";o.attr("class",r),a.attr("class",s).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){a.removeClass("leave-right leave-left"),o.removeClass("enter-left enter-right")}),t.css("height",n+"px")}function updateOlderEvents(e){e.parent("li").prevAll("li").children("a").addClass("older-event").end().end().nextAll("li").children("a").removeClass("older-event")}function getTranslateValue(e){var t=window.getComputedStyle(e.get(0),null);if(0<=(n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")).indexOf("("))var n,i=(n=(n=(n=n.split("(")[1]).split(")")[0]).split(","))[4];else i=0;return Number(i)}function setTransformValue(e,t,n){e.style["-webkit-transform"]=t+"("+n+")",e.style["-moz-transform"]=t+"("+n+")",e.style["-ms-transform"]=t+"("+n+")",e.style["-o-transform"]=t+"("+n+")",e.style.transform=t+"("+n+")"}function parseDate(e){var a=[];return e.each(function(){var e=$(this).data("date").split("T");if(1<e.length)var t=e[0].split("/"),n=e[1].split(":");else if(0<=e[0].indexOf(":"))t=["2000","0","0"],n=e[0].split(":");else t=e[0].split("/"),n=["0","0"];var i=new Date(t[2],t[1]-1,t[0],n[0],n[1]);a.push(i)}),a}function daydiff(e,t){return Math.round(e-t)}function minLapse(e){var t=[];for(i=1;i<e.length;i++){var n=daydiff(e[i-1],e[i]);t.push(n)}return Math.min.apply(null,t)}function elementInViewport(e){for(var t=e.offsetTop,n=e.offsetLeft,i=e.offsetWidth,a=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+a>window.pageYOffset&&n+i>window.pageXOffset}function checkMQ(){return window.getComputedStyle(document.querySelector(".cd-horizontal-timeline"),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}function animateTime(){var e=Snap("#workspace"),t=e.select("#second"),n=e.select("#minute"),i=e.select("#hour"),a=e.select("#circle193"),o=","+a.getBBox().cx+","+a.getBBox().cy,r=new Date,s=r.getHours(),l=r.getMinutes(),c=r.getSeconds();t.transform("r"+(6*c-3)+o),t.animate({transform:"r"+6*c+o},500,mina.elastic),n.transform("r"+6*l+o),0==c&&(n.transform("r"+(6*l-3)+o),n.animate({transform:"r"+6*l+o},500,mina.elastic)),i.transform("r"+(30*s+l/2)+o),setTimeout("animateTime()",1e3)}window.onload=function(){setInterval(function(){var e=$(".slideshow ul"),t=e.height();e.animate({marginTop:-t},500,function(){$(this).css({marginTop:0}).find("li:last").after($(this).find("li:first"))})},4e3),$(".video-player").autoplay=!1,$(".js-scrollTo").on("click",function(){var e=$(this).attr("href");return $(".mdl-layout__content").animate({scrollTop:$(e).get(0).offsetTop},750),!1});var i=$(".section"),a=$(".mdl-navigation"),o=a.outerHeight();$(".mdl-layout__content").on("scroll",function(){var n=$(this).scrollTop();i.each(function(){var e=$(this).get(0).offsetTop-o,t=e+$(this).outerHeight();e<=n&&n<=t&&(a.find("a").removeClass("active"),i.removeClass("active"),$(this).addClass("active"),a.find('a[href="#'+$(this).attr("id")+'"]').addClass("active"))})})},animateTime(),angular.module("myPortfolio",["ngResource","ngSanitize","ngAnimate"]).config(["$sceDelegateProvider",function(e){e.resourceUrlWhitelist(["self","*://www.youtube.com/**"])}]).directive("onFinishRender",["$timeout",function(i){return function(e,t,n){!0===e.$last&&i(function(){e.$emit("ngRepeatFinished")})}}]).service("PostService",["$log","$resource",function(e,n){return{loadPosts:function(e,t){return n("https://public-api.wordpress.com/rest/v1.1/sites/samerabdelkafi.wordpress.com/posts?pretty=true&fields=ID,title,excerpt,short_URL,featured_image,date",{number:"@number",offset:"@offest"}).get({number:e,offset:t})}}}]).service("ExperienceService",["$log","$resource",function(e,t){return{loadExperiences:function(){return t("json/experience.json",{},{query:{method:"GET",params:{},isArray:!0}}).query()}}}]).controller("PostsController",["$scope","$log","PostService","$sce","$timeout",function(n,e,t,i,a){n.loadPosts=function(){var e=0;n.posts&&(e=n.posts.length),n.loading=!0,t.loadPosts(3,e).$promise.then(function(e){if(n.posts)a(function(){n.posts=n.posts.concat(e.posts),n.index=n.posts.length,n.found=e.found,n.loading=!1},1e3);else{var t=[];angular.forEach(e.posts,function(e){e.featured_image=e.featured_image+"?w=330",t.push(e)},t),n.posts=t,n.index=n.posts.length,n.found=e.found,n.loading=!1}})},n.loadPosts()}]).controller("ExperienceController",["$scope","$log","ExperienceService","$sce",function(e,t,n,i){e.experiences=n.loadExperiences(),e.$on("ngRepeatFinished",function(e){var t=$(".cd-horizontal-timeline");0<t.length&&initTimeline(t)})}]),function(){"use strict";angular.module("myPortfolio").directive("projects",function(){return{restrict:"E",controller:["ProjectsService",function(e){var t=this;e.loadProjects().then(function(e){t.projects=e})}],controllerAs:"vm",templateUrl:"js/directives/projects/projects.directive.html"}})}(),function(){"use strict";angular.module("myPortfolio").service("ProjectsService",["$log","$http",function(e,t){return{loadProjects:function(){return t.get("json/projects.json").then(function(e){return e.data})}}}])}();